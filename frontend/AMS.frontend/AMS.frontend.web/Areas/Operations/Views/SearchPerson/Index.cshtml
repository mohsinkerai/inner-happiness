@model SearchCriteria
@{
    ViewBag.ModuleTitle = "Search Person";
    ViewBag.PageTitle = "Search Person";
}

@section styles{
    <link href="~/assets/vendors/custom/datatables/datatables.bundle.css" rel="stylesheet" type="text/css" />
}

<div class="m-portlet m-portlet--skin-dark m-portlet--bordered-semi" id="search-portlet">
    <div class="m-portlet__head">
        <div class="m-portlet__head-caption">
            <div class="m-portlet__head-title">
                <span class="m-portlet__head-icon">
                    <i class="flaticon-users"></i>
                </span>
                <h3 class="m-portlet__head-text">
                    Search Criteria
                </h3>
            </div>
        </div>
    </div>
    <div class="m-portlet__body">
        <form id="mainForm" asp-area="@AreaNames.Operations" asp-controller="@ControllerNames.SearchPerson" asp-action="Index" method="post">
            <div class="form-group m-form__group row">
                <div class="col-lg-3">
                    <div class="form-group">
                        <label asp-for="Name" class="control-label"></label>
                        <input asp-for="Name" type="text" name="Name" class="form-control">
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        <label asp-for="RegionalCouncil" class="control-label"></label>
                        <select asp-for="RegionalCouncil" asp-items="@ViewBag.RegionalCouncil" class="form-control m-select2-multiple" placeholder="Select Regional Councils" multiple name="RegionalCouncil">
                            <option></option>
                        </select>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        <label asp-for="LocalCouncil" class="control-label"></label>
                        <select asp-for="LocalCouncil" asp-items="@ViewBag.LocalCouncil" class="form-control m-select2-multiple" placeholder="Select Local Councils" multiple name="LocalCouncil">
                            <option></option>
                        </select>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        <label asp-for="JamatKhana" class="control-label"></label>
                        <select asp-for="JamatKhana" asp-items="@ViewBag.JamatKhana" class="form-control m-select2-multiple" placeholder="Select JamatKhana" multiple name="JamatKhana">
                            <option></option>
                        </select>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        <label asp-for="JamatiTitle" class="control-label"></label>
                        <select asp-for="JamatiTitle" asp-items="@ViewBag.JamatiTitle" class="form-control m-select2-multiple" placeholder="Select Jamati Title" multiple name="JamatiTitle">
                            <option></option>
                        </select>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        <label asp-for="City" class="control-label"></label>
                        <select asp-for="City" asp-items="@ViewBag.City" class="form-control m-select2-multiple" placeholder="Select City" multiple name="City">
                            <option></option>
                        </select>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        <label asp-for="AreaOfOrigin" class="control-label"></label>
                        <select asp-for="AreaOfOrigin" asp-items="@ViewBag.AreaOfOrigin" class="form-control m-select2-multiple" placeholder="Select Area Of Origin" multiple name="AreaOfOrigin">
                            <option></option>
                        </select>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        <label asp-for="HighestLevelOfStudy" class="control-label"></label>
                        <select asp-for="HighestLevelOfStudy" asp-items="@ViewBag.HighestLevelOfStudy" class="form-control m-select2-multiple" placeholder="Select highest level of study" multiple name="HighestLevelOfStudy">
                            <option></option>
                        </select>
                    </div>
                </div>
                @*<div class="col-lg-3">
                        <div class="form-group">
                            <label asp-for="FiledOfInterest" class="control-label"></label>
                            <select asp-for="FiledOfInterest" asp-items="@ViewBag.FiledOfInterest" class="form-control m-select2-multiple" placeholder="Select field of interest" multiple name="FiledOfInterest">
                                <option></option>
                            </select>
                        </div>
                    </div>*@
                <div class="col-lg-3">
                    <div class="form-group">
                        <label asp-for="OccupationType" class="control-label"></label>
                        <select asp-for="OccupationType" asp-items="@ViewBag.OccupationType" class="form-control m-select2-multiple" placeholder="Select occupation type" multiple name="OccupationType">
                            <option></option>
                        </select>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        <label asp-for="EducationalInstitution" class="control-label"></label>
                        <select asp-for="EducationalInstitution" asp-items="@ViewBag.EducationalInstitution" class="form-control m-select2-multiple" placeholder="Select educational institution" multiple name="EducationalInstitution">
                            <option></option>
                        </select>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        <label asp-for="NameOfDegree" class="control-label"></label>
                        <select asp-for="NameOfDegree" asp-items="@ViewBag.NameOfDegree" class="form-control m-select2-multiple" placeholder="Select name of degree" multiple name="NameOfDegree">
                            <option></option>
                        </select>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        <label asp-for="MajorAreaOfStudy" class="control-label"></label>
                        <select asp-for="MajorAreaOfStudy" asp-items="@ViewBag.MajorAreaOfStudy" class="form-control m-select2-multiple" placeholder="Select major area of study" multiple name="MajorAreaOfStudy">
                            <option></option>
                        </select>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        <label asp-for="FieldOfExpertise" class="control-label"></label>
                        <select asp-for="FieldOfExpertise" asp-items="@ViewBag.FieldOfExpertise" class="form-control m-select2-multiple" placeholder="Select field of expertise" multiple name="FieldOfExpertise">
                            <option></option>
                        </select>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        <label asp-for="ReligiousEducation" class="control-label"></label>
                        <select asp-for="ReligiousEducation" asp-items="@ViewBag.ReligiousEducation" class="form-control m-select2-multiple" placeholder="Select religious education" multiple name="ReligiousEducation">
                            <option></option>
                        </select>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        <label asp-for="AkdnTraining" class="control-label"></label>
                        <select asp-for="AkdnTraining" asp-items="@ViewBag.AkdnTraining" class="form-control m-select2-multiple" placeholder="Select akdn training" multiple name="AkdnTraining">
                            <option></option>
                        </select>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        <label asp-for="Skills" class="control-label"></label>
                        <select asp-for="Skills" asp-items="@ViewBag.Skills" class="form-control m-select2-multiple" placeholder="Select skills" multiple name="Skills">
                            <option></option>
                        </select>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        <label asp-for="ProfessionalMembership" class="control-label"></label>
                        <select asp-for="ProfessionalMembership" asp-items="@ViewBag.ProfessionalMembership" class="form-control m-select2-multiple" placeholder="Select professional membership" multiple name="ProfessionalMembership">
                            <option></option>
                        </select>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        <label asp-for="ProfessionalTraining" class="control-label"></label>
                        <input asp-for="ProfessionalTraining" type="text" name="professionalTraining" class="form-control">
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        <label asp-for="EmploymentNameOfOrganization" class="control-label"></label>
                        <input asp-for="EmploymentNameOfOrganization" type="text" name="employmentNameOfOrganization" class="form-control">
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        <label asp-for="TypeOfBuisness" class="control-label"></label>
                        <select asp-for="TypeOfBuisness" asp-items="@ViewBag.TypeOfBuisness" class="form-control m-select2-multiple" placeholder="Select type of buisness" multiple name="TypeOfBuisness">
                            <option></option>
                        </select>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        <label asp-for="NatureOfBuisness" class="control-label"></label>
                        <select asp-for="NatureOfBuisness" asp-items="@ViewBag.NatureOfBuisness" class="form-control m-select2-multiple" placeholder="Select nature of buisness" multiple name="NatureOfBuisness">
                            <option></option>
                        </select>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        <label asp-for="AreaOfStudy" class="control-label"></label>
                        <select asp-for="AreaOfStudy" asp-items="@ViewBag.AreaOfStudy" class="form-control m-select2-multiple" placeholder="Area of Study" multiple name="AreaOfStudy">
                            <option></option>
                        </select>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        <label class="control-label">Date of Birth (Select range from)</label>
                        <div class="input-group">
                            <input type="text" asp-for="DateOfBirthFrom" class="form-control date-picker" placeholder="Select date">
                            <div class="input-group-append">
                                <span class="input-group-text" id="basic-addon2">
                                    <i class="la la-calendar"></i>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        <label asp-for="DateOfBirthTo" class="control-label">Date of Birth (Select range till)</label>
                        <div class="input-group">
                            <input type="text" asp-for="DateOfBirthTo" class="form-control date-picker" placeholder="Select date">
                            <div class="input-group-append">
                                <span class="input-group-text" id="basic-addon2">
                                    <i class="la la-calendar"></i>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group m-form__group row">
                <div class="col-lg-3">
                    <div class="form-group">
                        <label asp-for="EmploymentCategory" class="control-label"></label>
                        <div class="m-radio-inline">
                            <label class="m-radio" style="color:white">
                                <input asp-for="EmploymentCategory" type="radio" value="NotSpecified" class="employment-category"> Not Specified
                                <span></span>
                            </label>
                            <label class="m-radio" style="color:white">
                                <input asp-for="EmploymentCategory" type="radio" value="Employed" class="employment-category"> Employed
                                <span></span>
                            </label>
                            <label class="m-radio" style="color:white">
                                <input asp-for="EmploymentCategory" type="radio" value="SelfEmployed" class="employment-category"> Self Employed
                                <span></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        <label asp-for="Gender" class="control-label"></label>
                        <div class="m-radio-inline">
                            <label class="m-radio" style="color:white">
                                <input asp-for="Gender" type="radio" value="@Gender.Male"> Male
                                <span></span>
                            </label>
                            <label class="m-radio" style="color:white">
                                <input asp-for="Gender" type="radio" value="@Gender.Female"> Female
                                <span></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="form-group">
                        <label asp-for="Condition" class="control-label"></label>
                        <div class="m-radio-inline">
                            <label class="m-radio" style="color:white">
                                <input asp-for="Condition" type="radio" checked="checked" value="AND"> AND
                                <span></span>
                            </label>
                            <label class="m-radio" style="color:white">
                                <input asp-for="Condition" type="radio" value="OR"> OR
                                <span></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="m-portlet__foot m-portlet__no-border m-portlet__foot--fit">
                <div class="m-form__actions m-form__actions--solid">
                    <button type="submit" class="btn btn-primary btn-info">
                        <i class="fa fa-search"></i> Search
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>
<div class="m-portlet m-portlet--mobile" id="person-list-portlet">
    <div class="m-portlet__head">
        <div class="m-portlet__head-caption">
            <div class="m-portlet__head-title">
                <span class="m-portlet__head-icon">
                    <i class="flaticon-list-1"></i>
                </span>
                <h3 class="m-portlet__head-text">
                    Persons Listing
                </h3>
            </div>
        </div>
    </div>
    <div class="m-portlet__body">
        <!--begin: Search Form -->
        <div class="m-form m-form--label-align-right m--margin-top-20 m--margin-bottom-30">
            <div class="row align-items-center">
                <div class="col-xl-8 order-2 order-xl-1">
                    <div class="form-group m-form__group row align-items-center">
                        <div class="col-md-4">
                            <div class="m-input-icon m-input-icon--left">
                                <input type="text" class="form-control m-input" placeholder="Search within results" id="generalSearch">
                                <span class="m-input-icon__icon m-input-icon__icon--left">
                                    <span>
                                        <i class="la la-search"></i>
                                    </span>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <table id="persons" class="table table-striped- table-bordered table-hover">
            <thead>
                <tr>
                    <th> Form Number </th>
                    <th> Full Name </th>
                    <th> Latest Education </th>
                    <th> Latest Employment </th>
                    <th> Mobile No. </th>
                    <th> Actions </th>
                </tr>
            </thead>
            <tbody>
                @if (Model?.persons != null)
                {
                @foreach (var item in Model.persons)
                    {
                <tr>
                    <td> @item.Id </td>
                    <td> @item.FirstName </td>
                    <td> @item.PreComputedLatestEducation </td>
                    <td> @item.PreComputedLatestEmployment </td>
                    <td> @item.MobilePhone </td>
                    <td>
                        <a asp-area="@AreaNames.Operations" asp-controller="@ControllerNames.Persons" asp-action="@ActionNames.Detail" asp-route-id="@item.Id" class="m-portlet__nav-link btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only" title="View Details">
                            <i class="la la-eye"></i>
                        </a>
                    </td>
                </tr>
                    }
                }
            </tbody>
        </table>
    </div>
</div>

<div class="m-portlet m-portlet--mobile" id="query-portlet">
    <div class="m-portlet__head">
        <div class="m-portlet__head-caption">
            <div class="m-portlet__head-title">
                <span class="m-portlet__head-icon">
                    <i class="flaticon-list-1"></i>
                </span>
                <h3 class="m-portlet__head-text">
                    Query
                </h3>
            </div>
        </div>
    </div>
    <div class="m-portlet__body">
        <div class="form-group m-form__group row">
            <div class="col-lg-12">
                <div class="form-group m-form__group">
                    <textarea class="form-control m-input" id="exampleTextarea" rows="3" disabled="disabled">@Model?.Query</textarea>
                </div>
            </div>
        </div>
    </div>
</div>

@section scripts{
    <script src="~/assets/vendors/custom/datatables/datatables.bundle.js" type="text/javascript"></script>
    <script src="~/assets/demo/default/custom/crud/datatables/extensions/buttons.js" type="text/javascript"></script>
    <script src="~/assets/demo/default/custom/crud/datatables/extensions/colreorder.js" type="text/javascript"></script>
    <script src="~/assets/demo/default/custom/crud/datatables/extensions/responsive.js" type="text/javascript"></script>
    <script src="~/assets/demo/default/custom/crud/datatables/data-sources/ajax-server-side.js" type="text/javascript"></script>
    <script type="text/javascript">

        jQuery(document).ready(function () {

            InitializeSearchPersonDataTable("persons");

            $("#persons").css("min-height", "0px");
        });
    </script>
}